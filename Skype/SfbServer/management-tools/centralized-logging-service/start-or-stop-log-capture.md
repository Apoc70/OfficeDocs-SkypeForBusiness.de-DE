---
title: Starten oder Beenden der CLS-Protokollerfassung in Skype for Business Server 2015
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
ms.date: 2/1/2018
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 0512b9ce-7f5b-48eb-a79e-f3498bacf2de
description: 'Zusammenfassung: Hier erfahren Sie, wie Sie in Skype for Business Server 2015 eine zentralisierte Protokollierungsdienst-protokollaufnahme Sitzung starten oder beenden.'
ms.openlocfilehash: b4da74e05a1eb6f6945f44c0c045c2292e7acca7
ms.sourcegitcommit: 2cc98fcecd753e6e8374fc1b5a78b8e3d61e0cf7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2020
ms.locfileid: "40991440"
---
# <a name="start-or-stop-cls-log-capture-in-skype-for-business-server-2015"></a><span data-ttu-id="47b61-103">Starten oder Beenden der CLS-Protokollerfassung in Skype for Business Server 2015</span><span class="sxs-lookup"><span data-stu-id="47b61-103">Start or stop CLS log capture in Skype for Business Server 2015</span></span>
 
<span data-ttu-id="47b61-104">**Zusammenfassung:** Erfahren Sie, wie Sie eine zentralisierte Protokollierungsdienst-protokollaufnahme Sitzung in Skype for Business Server 2015 starten oder beenden.</span><span class="sxs-lookup"><span data-stu-id="47b61-104">**Summary:** Learn how to start or stop a Centralized Logging Service log capture session in Skype for Business Server 2015.</span></span>
  
<span data-ttu-id="47b61-105">Wenn Sie Ablaufverfolgungsprotokolle mithilfe des zentralen Protokollierungsdiensts erfassen möchten, geben Sie einen Befehl aus, um mit der Protokollierung an einem oder mehreren Computern und Pools zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="47b61-105">To capture trace logs using the Centralized Logging Service, you issue a command to begin logging on one or more computers and pools.</span></span> <span data-ttu-id="47b61-106">Sie geben auch Parameter an, die definieren, welche Computer oder Pools, welche Szenarien ausgeführt werden sollen (beispielsweise AlwaysOn, ein anderes vordefiniertes Szenario oder ein von Ihnen erstelltes Szenario), welche Skype for Business Server-Komponenten (beispielsweise S4, SipStack) nachverfolgt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="47b61-106">You also issue parameters that define which computers or pools, what scenarios to run (for example, AlwaysOn, another predefined scenario, or a scenario you have created), what Skype for Business Server components (for example, S4, SipStack) to trace.</span></span>
  
<span data-ttu-id="47b61-107">Wenn Sie die richtigen Informationen erfassen möchten, müssen Sie sicherstellen, dass Sie das richtige Szenario verwenden, um Informationen zu sammeln, die für das Problem relevant sind.</span><span class="sxs-lookup"><span data-stu-id="47b61-107">To capture the right information, you need to make sure you use the right scenario to collect information that is relevant to the problem.</span></span> <span data-ttu-id="47b61-108">Im zentralisierten Protokollierungsdienst ist ein Szenario das Konzept des Aktivierens der Protokollierung auf der Grundlage einer Sammlung von Server Komponenten, Protokollierungsebenen und Flags, was wesentlich effizienter und nützlicher ist, als diese Elemente auf pro-Server-Basis zu definieren.</span><span class="sxs-lookup"><span data-stu-id="47b61-108">In the Centralized Logging Service, a scenario is the concept of turning logging on based on a collection of server components, logging levels, and flags, which is much more efficient and useful than having to define these elements on a per-server basis.</span></span> <span data-ttu-id="47b61-109">Sie definieren und spezifizieren ein Szenario, das ausgeführt werden soll, und das Szenario wird konsistent über alle Server und Pools im Bereich der Infrastruktur ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="47b61-109">You define and specify a scenario to run and the scenario is run consistently across all servers and pools in the scope of the infrastructure.</span></span>
  
<span data-ttu-id="47b61-p103">Das Standardszenario heißt **AlwaysOn**. Wie der Name bereits andeutet, soll dieses Szenario ständig ausgeführt werden. Das Szenario AlwaysOn erfasst Informationen auf der Ebene „Info“ (zum Protokolliergrad „Info“ zählen zusätzlich zu den Infomeldungen Meldungen der Ebenen „Schwerwiegend“, „Fehler“ und „Warnung“) für viele der häufigsten Serverkomponenten. AlwaysOn erfasst Informationen vor und nach einem Problem sowie während eines Problems. Daher unterscheidet es sich gravierend vom typischen Verhalten früherer Protokollierungstools wie OCSLogger. OCSLogger wurde ausgeführt, nachdem das Problem bereits aufgetreten war. Dadurch wurde die Problembehandlung erschwert, da die erfassten Daten nicht proaktiv, sondern rückwirkend waren. Falls AlwaysOn nicht die gewünschten Informationen zum Ermitteln der fehlerhaften Komponente und keine Vorgehensweise zur Behebung enthält (was aufgrund des Umfangs der Anbieter in AlwaysOn unwahrscheinlich ist), erhalten Sie immerhin angemessene Informationen, mit denen die erforderlichen Schritte (z. B. Erstellen eines neuen Szenarios, Erfassen weiterer Informationen, Ausführen einer anderen Suche zum Sammeln genauerer Einzelheiten usw.) ermittelt werden können.</span><span class="sxs-lookup"><span data-stu-id="47b61-p103">The default scenario is called **AlwaysOn**. The intended purpose for AlwaysOn is to run the scenario constantly, as the name of the scenario implies. The AlwaysOn scenario collects Info level information (note that Info logging level includes Fatal, Error, and Warning in addition to Info messages) for many of the most common server components. AlwaysOn collects information before, during, and after a problem occurs. This differs dramatically from the typical behavior of previous logging tools such as OCSLogger. You ran OCSLogger after the problem had already occurred, making your troubleshooting efforts more difficult because the data that you have is reactive, not proactive. If AlwaysOn does not contain the information that you are looking for in order to point to the problem component and indicate a course of action to fix it (which is not likely given the breadth and depth of providers in AlwaysOn), it will indicate a reasonable level of information to determine what else you need to do, such as creating a new scenario, gather other information, run a different search to collect more focused details, and so on.</span></span>
  
<span data-ttu-id="47b61-117">Der zentralisierte Protokollierungsdienst bietet zwei Möglichkeiten zum Ausgeben von Befehlen.</span><span class="sxs-lookup"><span data-stu-id="47b61-117">The Centralized Logging Service provides two ways to issue commands.</span></span> <span data-ttu-id="47b61-118">Eine Reihe von Themen wurde direkt auf die Verwendung von Windows PowerShell über die Skype for Business Server-Verwaltungsshell ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="47b61-118">A number of topics have been focused squarely on using Windows PowerShell through the Skype for Business Server Management Shell.</span></span> <span data-ttu-id="47b61-119">Die Möglichkeit, eine Reihe von komplexen Konfigurationen und Befehlen zu verwenden, begünstigt Windows PowerShell für die Verwendung zentralisierter Protokollierungsdienste.</span><span class="sxs-lookup"><span data-stu-id="47b61-119">The ability to use a number of complex configurations and commands favors Windows PowerShell for Centralized Logging Service use.</span></span> <span data-ttu-id="47b61-120">Da Windows PowerShell über die Skype for Business Server-Verwaltungsshell nahezu allgegenwärtig für alle Funktionen in Skype for Business Server ist, werden nur die Windows PowerShell-Befehle besprochen.</span><span class="sxs-lookup"><span data-stu-id="47b61-120">Because Windows PowerShell through the Skype for Business Server Management Shell is nearly ubiquitous for all functions in Skype for Business Server, only the Windows PowerShell commands are discussed.</span></span> 
  
### <a name="to-run-start-csclslogging-with-windows-powershell-using-basic-commands"></a><span data-ttu-id="47b61-121">So führen Sie Start-CsClsLogging mit Windows PowerShell mithilfe von einfachen Befehlen aus</span><span class="sxs-lookup"><span data-stu-id="47b61-121">To run Start-CsClsLogging with Windows PowerShell using basic commands</span></span>

1. <span data-ttu-id="47b61-122">Starten Sie die Skype for Business Server-Verwaltungsshell: Klicken Sie auf **Start**, zeigen Sie auf **Alle Programme** und dann auf **Skype for Business 2015** und klicken Sie anschließend auf **Skype for Business Server-Verwaltungsshell**.</span><span class="sxs-lookup"><span data-stu-id="47b61-122">Start the Skype for Business Server Management Shell: Click **Start**, click **All Programs**, click **Skype for Business 2015**, and then click **Skype for Business Server Management Shell**.</span></span>
    
2. <span data-ttu-id="47b61-123">Starten Sie ein Protokollierungsszenario mit dem zentralen Protokollierungsdienst, indem Sie Folgendes eingeben:</span><span class="sxs-lookup"><span data-stu-id="47b61-123">Start a logging scenario with the Centralized Logging Service by typing the following:</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario <name of scenario>
   ```

    <span data-ttu-id="47b61-124">Geben Sie beispielsweise zum Starten des Szenarios **AlwaysOn** Folgendes ein:</span><span class="sxs-lookup"><span data-stu-id="47b61-124">For example, to start the **AlwaysOn** scenario, type:</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario AlwaysOn
   ```

    > [!NOTE]
    > <span data-ttu-id="47b61-125">Für das Szenario AlwaysOn ist keine Standarddauer festgelegt.</span><span class="sxs-lookup"><span data-stu-id="47b61-125">The AlwaysOn scenario has no default duration.</span></span> <span data-ttu-id="47b61-126">Das Szenario wird so lange ausgeführt, bis Sie es mit dem Cmdlet **Stop-CsClsLogging** explizit beenden.</span><span class="sxs-lookup"><span data-stu-id="47b61-126">This scenario will run until you explicitly stop it with the **Stop-CsClsLogging** cmdlet.</span></span> <span data-ttu-id="47b61-127">Ausführliche Informationen finden Sie unter [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="47b61-127">For details, see [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span></span> <span data-ttu-id="47b61-128">Für alle anderen Szenarien gilt eine Standarddauer von 4 Stunden.</span><span class="sxs-lookup"><span data-stu-id="47b61-128">For all other scenarios, the default duration is 4 hours.</span></span> 
  
3. <span data-ttu-id="47b61-129">Drücken Sie zum Ausführen des Befehls die EINGABETASTE.</span><span class="sxs-lookup"><span data-stu-id="47b61-129">Press Enter to run the command.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="47b61-130">Es kann einen kurzen Moment dauern (30 bis 60 Sekunden), bis der Befehl ausgeführt und der Status von den Computern in Ihrer Bereitstellung abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="47b61-130">It may take a short amount of time (30 to 60 seconds) for the commands to run and to receive the status back from the computers in your deployment.</span></span> 
  
     ![Ausführen von Start-CsClsLogging.](../../media/Ops_CLS_Show_and_Start_ClsLogging.jpg)
  
4. <span data-ttu-id="47b61-132">Um ein weiteres Szenario zu starten, verwenden Sie das Cmdlet **Start-CsClsLogging** mit dem Namen des zusätzlichen Szenarios (z. B. des Szenarios **Authentifizierung**) wie folgt:</span><span class="sxs-lookup"><span data-stu-id="47b61-132">To start another scenario, use the **Start-CsClsLogging** cmdlet with the name of the additional scenario to run as follows (for example, the scenario **Authentication**):</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario Authentication
   ```

    > [!IMPORTANT]
    > <span data-ttu-id="47b61-p106">Sie können jederzeit insgesamt zwei Szenarien auf einem beliebigen Computer ausführen. Wenn der Befehl einen globalen Gültigkeitsbereich hat, werden die Szenarien auf allen Computern in Ihrer Bereitstellung ausgeführt. Wenn Sie ein drittes Szenario starten möchten, müssen Sie die Protokollierung für den Computer, Pool, Standort oder globalen Gültigkeitsbereich beenden, für den das neue Szenario ausgeführt werden soll. Wenn Sie einen globalen Gültigkeitsbereich gestartet, können Sie die Protokollierung für mindestens ein Szenario für mindestens einen Computer oder Pool beenden.</span><span class="sxs-lookup"><span data-stu-id="47b61-p106">You can have a total of two scenarios running on any given computer at any time. If the command is global in scope, all of the computers in your deployment will run the scenario or scenarios. To start a third scenario, you must stop logging on the computer, pool, site, or global scope that you want to run the new scenario on. If you have started a global scope, you can stop logging for one or both of the scenarios on one or more computers and pools.</span></span> 
  
### <a name="to-run-start-csclslogging-with-windows-powershell-using-advanced-commands"></a><span data-ttu-id="47b61-137">So führen Sie Start-CsClsLogging mit Windows PowerShell mithilfe von erweiterten Befehlen aus</span><span class="sxs-lookup"><span data-stu-id="47b61-137">To run Start-CsClsLogging with Windows PowerShell using advanced commands</span></span>

1. <span data-ttu-id="47b61-138">Starten Sie die Skype for Business Server-Verwaltungsshell: Klicken Sie auf **Start**, zeigen Sie auf **Alle Programme** und dann auf **Skype for Business 2015** und klicken Sie anschließend auf **Skype for Business Server-Verwaltungsshell**.</span><span class="sxs-lookup"><span data-stu-id="47b61-138">Start the Skype for Business Server Management Shell: Click **Start**, click **All Programs**, click **Skype for Business 2015**, and then click **Skype for Business Server Management Shell**.</span></span>
    
2. <span data-ttu-id="47b61-139">Zur Verwaltung der Protokollierungsbefehle stehen zusätzliche Parameter zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="47b61-139">Additional parameters are available to manage the logging commands.</span></span> <span data-ttu-id="47b61-140">Sie können-Duration verwenden, um die Zeitdauer anzupassen, für die das Szenario ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="47b61-140">You can use -Duration to adjust the length of time for the scenario to run.</span></span> <span data-ttu-id="47b61-141">Sie können auch-Computer, eine Liste der vollqualifizierten Domänennamen (FQDNs), die durch ein Komma getrennt sind, oder-Pools, eine durch Kommas getrennte Liste der FQDNs für Pools definieren, für die Sie die Anmeldung ausführen möchten.</span><span class="sxs-lookup"><span data-stu-id="47b61-141">You also can define -Computers, a list of computer fully qualified domain names (FQDNs) separated by a comma, or -Pools, a comma separated list of FQDNs for pools that you want to run logging on.</span></span>
    
    <span data-ttu-id="47b61-142">Sie starten eine Protokollierungssitzung für das Szenario  UserReplicator im Pool „pool01.contoso.net“.</span><span class="sxs-lookup"><span data-stu-id="47b61-142">You start a logging session for the UserReplicator scenario on the pool "pool01.contoso.net".</span></span> <span data-ttu-id="47b61-143">Außerdem legen Sie als Dauer der Protokollierungssitzung 8 Stunden fest.</span><span class="sxs-lookup"><span data-stu-id="47b61-143">You also define the duration of the logging session at 8 hours.</span></span> <span data-ttu-id="47b61-144">Geben Sie hierzu Folgendes ein:</span><span class="sxs-lookup"><span data-stu-id="47b61-144">To do this, type:</span></span>
    
   ```PowerShell
   Start-CsClsLogging -Scenario UserReplicator -Duration 8:00 -Pools "pool01.contoso.net"
   ```

    <span data-ttu-id="47b61-145">Bei erfolgreicher Ausführung dieses Szenarios wird in etwa folgendes Ergebnis zurückgegeben:</span><span class="sxs-lookup"><span data-stu-id="47b61-145">The successful execution of this scenario returns a result like the following:</span></span>
    
     ![Ausführen von Start-CsClsLogging.](../../media/Ops_CsClsLogging_UserReplicator_Exp.jpg)
  
<span data-ttu-id="47b61-147">Beachten Sie, dass in diesem Beispiel die Szenarien „AlwaysOn“" und „UserReplicator“ ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="47b61-147">Note that in this example, the AlwaysOn scenario is running and the UserReplicator scenario is running.</span></span> 
    
## <a name="stop-the-centralized-logging-service-log-capture"></a><span data-ttu-id="47b61-148">Beenden der Protokollerfassung durch den zentralisierten Protokollierungsdienst</span><span class="sxs-lookup"><span data-stu-id="47b61-148">Stop the Centralized Logging Service log capture</span></span>
<span data-ttu-id="47b61-149"><a name="stop"> </a></span><span class="sxs-lookup"><span data-stu-id="47b61-149"></span></span>

<span data-ttu-id="47b61-150">Eine aktuell ausgeführte Protokollierungssitzung können Sie mit dem Cmdlet „Stop-CsClsLogging“ anhalten.</span><span class="sxs-lookup"><span data-stu-id="47b61-150">You can stop a currently running logging session with the Stop-CsClsLogging cmdlet.</span></span> <span data-ttu-id="47b61-151">Im Allgemeinen gibt es nicht viele Situationen, in denen Sie eine Protokollierungssitzung beenden müssten.</span><span class="sxs-lookup"><span data-stu-id="47b61-151">Generally, there aren't many situations in which you would need to stop a logging session.</span></span> <span data-ttu-id="47b61-152">Beispielsweise können Sie Protokolle durchsuchen und Konfigurationen ändern, ohne die Protokollierung zuvor anzuhalten.</span><span class="sxs-lookup"><span data-stu-id="47b61-152">For example, you can search logs and change configurations without first needing to stop logging.</span></span> <span data-ttu-id="47b61-153">Wenn Sie zwei Szenarien ausführen, z. B. „AlwaysOn“ und „UserReplicator“, und Informationen zur Authentifizierung sammeln müssen, müssen Sie eines der anderen Szenarien anhalten (auf globaler Ebene oder auf Standort-, Pool- oder Computerebene), bevor Sie die Ausführung des Authentifizierungsszenarios starten können.</span><span class="sxs-lookup"><span data-stu-id="47b61-153">If you have two scenarios running, for example AlwaysOn and UserReplicator, and you need to collect information related to Authentication, you will need to stop one of the other scenarios (at a global, site, pool or computer scope) before you can start running to Authentication scenario.</span></span> <span data-ttu-id="47b61-154">Ausführliche Informationen finden Sie unter [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="47b61-154">For details, see [Stop-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/stop-csclslogging?view=skype-ps).</span></span>
  
> [!NOTE]
> <span data-ttu-id="47b61-155">Beim Festlegen der Szenarien, die in einer Bereitstellung, in einem Pool oder auf einem Computer ausgeführt werden können, müssen Sie unbedingt beachten, dass **pro Computer** nur zwei Szenarien ausgeführt werden können: „AlwaysOn“ und ein benutzerdefiniertes Szenario.</span><span class="sxs-lookup"><span data-stu-id="47b61-155">When determining what scenarios you can run on a given deployment, pool or computer, you need to remember that you are limited to running two scenarios **per computer**: AlwaysOn and one custom scenario.</span></span> <span data-ttu-id="47b61-156">Wenn Sie in einem Pool Aktivitäten protokollieren, sollten Sie den Pool als einzelne Entität behandeln.</span><span class="sxs-lookup"><span data-stu-id="47b61-156">If you are logging activity on a pool, you should treat a pool as a single entity.</span></span> <span data-ttu-id="47b61-157">In den meisten Fällen ist das Ausführen verschiedener Szenarien auf jedem Computer in einem Pool nicht sinnvoll.</span><span class="sxs-lookup"><span data-stu-id="47b61-157">In most cases, it would not make sense to run different scenarios on each computer in a pool.</span></span> <span data-ttu-id="47b61-158">Sinnvoll ist es dagegen, sich mit dem Problem zu befassen, zu dem Sie Daten sammeln, und zu ermitteln, welches Szenario auf einem bestimmten Computer in der gesamten Bereitstellung am hilfreichsten ist.</span><span class="sxs-lookup"><span data-stu-id="47b61-158">It does make sense to look at the problem that you are collecting data about and think about what scenario makes the most sense on a given computer in the overall deployment.</span></span> <span data-ttu-id="47b61-159">Wenn Sie beispielsweise das UserReplicator-Szenario in Frage stellen, gibt es bei der Ausführung von UserReplicator auf einem Edgeserver oder Edge-Pool nur sehr wenig Wert.</span><span class="sxs-lookup"><span data-stu-id="47b61-159">For example, if you consider the UserReplicator scenario, there would be very little value in running UserReplicator on an Edge Server or Edge pool.</span></span> 
  
<span data-ttu-id="47b61-p111">Nachdem Sie das Problem und den Umfang der Auswirkungen analysiert haben, sollten Sie sorgfältig auswählen, welche Szenarien auf welchen Computern und in welchen Pools ausgeführt werden sollen. Während das „AlwaysOn“ für einen weiten Bereich von Anwendungen mit weitem Bereich sinnvoll ist, da dabei Informationen zu einer Vielzahl von Anbietern gesammelt werden, haben bestimmte Szenarien nur Anwendungswert auf bestimmten Computern bzw. in bestimmten Pools. Seien Sie außerdem vorsichtig beim willkürlichen Starten einer Protokollierungssitzung, ohne den Wert eines bestimmten Szenarios zu kennen. Wenn Sie das falsche Szenario verwenden – oder ein für die Aufgabe zwar geeignetes Szenario verwenden, jedoch auf der falschen Ebene (global, Standort, Pool oder Computer) –, erhalten Sie fragwürdige und wenig nützliche Daten, so als ob Sie das Szenario überhaupt nicht ausgeführt hätten.</span><span class="sxs-lookup"><span data-stu-id="47b61-p111">After you understand the problem and the scope of the impact, you should make careful choices about what scenarios to run on which computers and pools. While the AlwaysOn scenario makes sense for a wide scope application because it collects information on a wide variety of providers, specific scenarios only have application value on specific computers or pools. Also, you should take caution when randomly starting up a logging session without first understanding the value of a given scenario. If you use the wrong scenario, or if you use a scenario that is appropriate for the task and you apply the scenario at the wrong scope (be it global, site, pool, or computer), you can get questionable data that is not very useful—as if you didn't run the scenario at all.</span></span>
  
<span data-ttu-id="47b61-164">Um die Funktionen für den zentralisierten Protokollierungsdienst mithilfe der Skype for Business Server-Verwaltungsshell zu steuern, müssen Sie Mitglied der CsAdministrator-oder CsServerAdministrator-Sicherheitsgruppe (Role-Based Access Control, RBAC) oder einer benutzerdefinierten RBAC-Rolle sein. , die eine dieser beiden Gruppen enthält.</span><span class="sxs-lookup"><span data-stu-id="47b61-164">To control the Centralized Logging Service functions by using the Skype for Business Server Management Shell, you must be a member of either the CsAdministrator or the CsServerAdministrator role-based access control (RBAC) security groups, or a custom RBAC role that contains either of these two groups.</span></span> <span data-ttu-id="47b61-165">Führen Sie den folgenden Befehl aus der Skype for Business Server-Verwaltungsshell oder der Windows PowerShell-Eingabeaufforderung aus, um eine Liste aller RBAC-Rollen zurückzugeben, denen dieses Cmdlet zugewiesen wurde (einschließlich aller benutzerdefinierten RBAC-Rollen, die Sie selbst erstellt haben):</span><span class="sxs-lookup"><span data-stu-id="47b61-165">To return a list of all the RBAC roles this cmdlet has been assigned to (including any custom RBAC roles you have created yourself), run the following command from the Skype for Business Server Management Shell or the Windows PowerShell prompt:</span></span>
  
```PowerShell
Get-CsAdminRole | Where-Object {$_.Cmdlets -match "Skype for Business Server 2015 cmdlet"}
```

<span data-ttu-id="47b61-166">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="47b61-166">For example:</span></span>
  
```PowerShell
Get-CsAdminRole | Where-Object {$_.Cmdlets -match "Set-CsClsConfiguration"}
```

> [!NOTE]
> <span data-ttu-id="47b61-167">Sie Fragen sich vielleicht: wo werden die Protokolle gespeichert, nachdem Sie die Protokollierung aktiviert haben?</span><span class="sxs-lookup"><span data-stu-id="47b61-167">So you may be wondering: Now that you've enabled logging, where are the logs kept?</span></span> <span data-ttu-id="47b61-168">Da Sie auf die in den Protokollen gespeicherten Informationen mithilfe von Verwaltungsshell-Abfragen zugreifen, die an die CLS-Agents gesendet wurden, und Sie die Ergebnisse in mehreren möglichen Dateiformaten ausgeben können, ist es für jeden Server wichtig, dass der CLS-Agent seine Einträge speichert.</span><span class="sxs-lookup"><span data-stu-id="47b61-168">Since you'll access the information stored in the logs using management shell queries sent to the CLS Agents, and you can output the results to several possible file formats, where on each server a CLS Agent keeps its records isn't actually important to know.</span></span>  <span data-ttu-id="47b61-169">Die Protokolldateien können an einem von Ihnen angegebenen Ort gespeichert und mit einer Reihe von Tools wie " **Snooper. exe** " und einem Tool, mit dem eine Textdatei wie **Notepad. exe**gelesen werden kann, gelesen und analysiert werden.</span><span class="sxs-lookup"><span data-stu-id="47b61-169">The log files can be saved to a location you specify and  read and analyzed using a variety of tools, including **Snooper.exe** and any tool that can read a text file, such as **Notepad.exe**.</span></span> <span data-ttu-id="47b61-170">Snooper. exe ist Teil der Skype for Business Server 2015 Debug-Tools und steht als [Web-Download](https://go.microsoft.com/fwlink/p/?LinkId=285257)zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="47b61-170">Snooper.exe is part of the Skype for Business Server 2015 Debug Tools and is available as a [Web download](https://go.microsoft.com/fwlink/p/?LinkId=285257).</span></span>

### <a name="to-stop-a-currently-running-centralized-logging-service-session"></a><span data-ttu-id="47b61-171">So beenden Sie eine derzeit ausgeführte zentralisierte Protokollierungsdienst Sitzung</span><span class="sxs-lookup"><span data-stu-id="47b61-171">To stop a currently running Centralized Logging Service session</span></span>

1. <span data-ttu-id="47b61-172">Starten Sie die Skype for Business Server-Verwaltungsshell: Klicken Sie auf **Start**, zeigen Sie auf **Alle Programme** und dann auf **Skype for Business 2015** und klicken Sie anschließend auf **Skype for Business Server-Verwaltungsshell**.</span><span class="sxs-lookup"><span data-stu-id="47b61-172">Start the Skype for Business Server Management Shell: Click **Start**, click **All Programs**, click **Skype for Business 2015**, and then click **Skype for Business Server Management Shell**.</span></span>
    
2. <span data-ttu-id="47b61-173">Fragen Sie den zentralisierten Protokollierungsdienst ab, um herauszufinden, welche Szenarien zurzeit ausgeführt werden, indem Sie Folgendes eingeben:</span><span class="sxs-lookup"><span data-stu-id="47b61-173">Query the Centralized Logging Service to find out what scenarios are currently running by typing the following:</span></span>
    
   ```PowerShell
   Show-CsClsLogging
   ```

   ![Windows PowerShell-Konsole nach dem Aufruf von Show-CSCL](../../media/Ops_Show_Stop_CsClsLogging.jpg)
  
   <span data-ttu-id="47b61-p114">Das Ergebnis von „Show-CsClsLogging“ ist eine Zusammenfassung der ausgeführten Szenarien und der Ebenen, auf denen Sie ausgeführt werden. Ausführliche Informationen finden Sie unter [Show-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/show-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="47b61-p114">The result of Show-CsClsLogging is a summary of the scenarios that are running and what scope they are running in. For details, see [Show-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/show-csclslogging?view=skype-ps).</span></span>
    
3. <span data-ttu-id="47b61-177">Geben Sie zum Anhalten einer aktuell ausgeführten Protokollierungssitzung mit einem bestimmten Szenario Folgendes ein:</span><span class="sxs-lookup"><span data-stu-id="47b61-177">To stop a currently running logging session with a specific scenario, type:</span></span>
    
   ```PowerShell
   Stop-CsClsLogging -Scenario <scenario name> -Computers <comma separated list of fully qualified computer names> -Pools <comma separated list of fully qualified pool names>
   ```
   <span data-ttu-id="47b61-178">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="47b61-178">For example:</span></span>
    
   ```PowerShell
   Stop-CsClsLogging -Scenario UserReplicator -Pools pool01.contoso.net
   ```

   <span data-ttu-id="47b61-179">Mit diesem Befehl wird die Protokollierung mit dem Szenario „UserReplicator“ in „pool01.contoso.net“ angehalten.</span><span class="sxs-lookup"><span data-stu-id="47b61-179">This command will stop logging with the UserReplicatior scenario on pool01.contoso.net.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="47b61-p115">Protokolle, die während dieser Protokollierungssitzung mit dem Szenario „UserReplicator“ erstellt wurden, werden nicht gelöscht. Die Protokollierung steht Ihnen noch zur Verfügung, um Suchen mit dem Befehl „Search-CsClsLogging“ auszuführen. Ausführliche Informationen finden Sie unter [Search-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/search-csclslogging?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="47b61-p115">Logs created during this logging session using the UserReplicator scenario are not deleted. The logging is still available for you to execute searches against using the Search-CsClsLogging command. For details, see [Search-CsClsLogging](https://docs.microsoft.com/powershell/module/skype/search-csclslogging?view=skype-ps).</span></span> 
  
<span data-ttu-id="47b61-p116">Das Cmdlet „Stop-CsClsLogging“ fungiert als Begleitbefehl zu „Start-CsClsLogging“, beendet die Protokollierungssitzung entsprechend der Definition im aktuellen Szenario und behält die von der Protokollierungssitzung erstellten Protokolle bei. Sie können jederzeit zwei Szenarien auf einem bestimmten Computer ausführen. Das Anhalten eines Szenarios, um mithilfe eines anderen Szenarios Informationen zu sammeln, ist eine gängige Aufgabe, die Sie meistens auch bei großer Arbeitsauslastung während der Fehlerbehebung anwenden können.</span><span class="sxs-lookup"><span data-stu-id="47b61-p116">Acting as the companion command to Start-CsClsLogging, the Stop-CsClsLogging cmdlet ends the logging session, defined by scenarios, and retains the logs created by the logging session. You can run two scenarios on a given computer at any time. The method of stopping one scenario to gather information using another scenario is a common task that you can perform during most workload troubleshooting.</span></span>
## <a name="see-also"></a><span data-ttu-id="47b61-186">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="47b61-186">See also</span></span>
<span data-ttu-id="47b61-187"><a name="stop"> </a></span><span class="sxs-lookup"><span data-stu-id="47b61-187"></span></span>

[<span data-ttu-id="47b61-188">Centralized Logging Service in Skype for Business 2015</span><span class="sxs-lookup"><span data-stu-id="47b61-188">Centralized Logging Service in Skype for Business 2015</span></span>](centralized-logging-service.md)
